{% extends 'admin/base_admin.html' %}
{% import 'components/csrf.html' as csrf %}
{% block admin_content %}
<h2 class="page-title mb-4">Verificaciones pendientes</h2>
<div class="card shadow-sm">
  <div class="card-body p-0">
    <div class="table-responsive">
      <table id="tablaVerificaciones" class="table table-vcenter card-table">
      <thead><tr><th>ID</th><th>Usuario</th><th>Email</th><th>Acciones</th></tr></thead>
      <tbody>
      {% for u in users %}
      <tr>
        <td>{{ u.id }}</td>
        <td>{{ u.username }}</td>
        <td>{{ u.email }}</td>
        <td>
          <form action="{{ url_for('admin.approve_user', user_id=u.id) }}" method="post" class="d-inline">
            {{ csrf.csrf_field() }}
            <button class="btn btn-success btn-sm" type="submit">&#x2705;</button>
          </form>
        </td>
      </tr>
      {% endfor %}
      </tbody>
      </table>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  new simpleDatatables.DataTable('#tablaVerificaciones');
});
</script>
{% endblock %}
