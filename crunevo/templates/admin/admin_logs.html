{% extends 'admin/base_admin.html' %}
{% block admin_content %}
<h2 class="page-title mb-4">Auditoría</h2>
<div class="card shadow-sm">
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table table-vcenter card-table" data-datatable>
        <thead>
          <tr><th>Fecha</th><th>Admin</th><th>Acción</th><th>Objeto</th></tr>
        </thead>
        <tbody>
        {% for log, admin in logs %}
        <tr>
          <td>{{ log.timestamp.strftime('%Y-%m-%d %H:%M') }}</td>
          <td>{{ admin.username }}</td>
          <td>{{ log.action }}</td>
          <td>{{ log.target_type }} {{ log.target_id }}</td>
        </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', initDataTables);
</script>
{% endblock %}
