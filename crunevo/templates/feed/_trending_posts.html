
{% for post in posts %}
<div class="trending-card">
  <div class="trending-badge">#{{ loop.index }}</div>
  
  <div class="d-flex align-items-start gap-3 mb-3">
    <img src="{{ post.author.avatar_url or url_for('static', filename='img/default.png') }}" 
         class="rounded-circle" width="48" height="48">
    <div class="flex-grow-1">
      <div class="fw-bold">{{ post.author.username }}</div>
      <div class="text-muted small">{{ post.created_at.strftime('%d %b') }}</div>
    </div>
  </div>

  {% if post.file_url %}
  <div class="mb-3">
    <img src="{{ post.file_url }}" class="img-fluid rounded-3" style="max-height: 200px; width: 100%; object-fit: cover;">
  </div>
  {% endif %}

  <div class="mb-3">
    {{ post.content|truncate(200) }}
  </div>

  <div class="d-flex align-items-center justify-content-between">
    <div class="d-flex gap-3">
      <span class="text-danger"><i class="bi bi-heart-fill me-1"></i>{{ post.likes or 0 }}</span>
      <span class="text-primary"><i class="bi bi-chat me-1"></i>{{ post.comment_count or 0 }}</span>
    </div>
    <a href="{{ url_for('feed.view_post', post_id=post.id) }}" class="btn btn-sm btn-outline-primary rounded-pill">
      Ver publicaci√≥n
    </a>
  </div>
</div>
{% endfor %}
