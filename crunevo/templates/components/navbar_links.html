<!-- Shared navigation links component -->
<!-- Desktop Links (used in navbar.html) -->
{% macro desktop_nav_links() %}
<div class="mx-auto d-none d-lg-flex gap-3">
  <a class="nav-link" href="{{ url_for('feed.feed_home') }}"><i class="bi bi-house-door me-1"></i>Feed</a>
  <a class="nav-link" href="{{ url_for('notes.list_notes') if 'notes.list_notes' in url_for.__globals__.get('current_app', {}).view_functions else '/notes' }}"><i class="bi bi-file-text me-1"></i>Apuntes</a>
  <a class="nav-link" href="{{ url_for('forum.list_questions') if 'forum.list_questions' in url_for.__globals__.get('current_app', {}).view_functions else '/foro' }}"><i class="bi bi-question-circle me-1"></i>Foro Estudiantil</a>
  <a class="nav-link" href="{{ url_for('store.store_index') if 'store.store_index' in url_for.__globals__.get('current_app', {}).view_functions else '/store' }}"><i class="bi bi-shop me-1"></i>Tienda</a>
  <a class="nav-link" href="{{ url_for('courses.list_courses') if 'courses.list_courses' in url_for.__globals__.get('current_app', {}).view_functions else '/cursos' }}"><i class="bi bi-play-circle-fill me-1"></i>Cursos</a>
  {% if current_user.is_authenticated and current_user.role == 'admin' %}
  <a class="nav-link" href="{{ url_for('carrera.index') if 'carrera.index' in url_for.__globals__.get('current_app', {}).view_functions else '/micarrera' }}">
    <i class="bi bi-mortarboard"></i> Mi Carrera
  </a>
  {% endif %}
</div>
{% endmacro %}

<!-- Mobile Collapse Links (used in navbar.html mobile menu) -->
{% macro mobile_collapse_links() %}
<ul class="navbar-nav d-lg-none mb-2">
  {% if current_user.is_authenticated %}
    <li class="nav-item"><a class="nav-link" href="{{ url_for('feed.feed_home') }}">Feed</a></li>
    <li class="nav-item"><a class="nav-link" href="{{ url_for('notes.list_notes') if 'notes.list_notes' in url_for.__globals__.get('current_app', {}).view_functions else '/notes' }}">Apuntes</a></li>
    <li class="nav-item"><a class="nav-link" href="{{ url_for('forum.list_questions') if 'forum.list_questions' in url_for.__globals__.get('current_app', {}).view_functions else '/foro' }}"><i class="bi bi-question-circle me-1"></i>Foro Estudiantil</a></li>
    <li class="nav-item"><a class="nav-link" href="{{ url_for('store.store_index') if 'store.store_index' in url_for.__globals__.get('current_app', {}).view_functions else '/store' }}">Tienda</a></li>
    <li class="nav-item"><a class="nav-link" href="{{ url_for('courses.list_courses') if 'courses.list_courses' in url_for.__globals__.get('current_app', {}).view_functions else '/cursos' }}">Cursos</a></li>
    <li class="nav-item"><a class="nav-link" href="{{ url_for('chat.chat_index') }}">Chat</a></li>
  {% endif %}
</ul>
{% endmacro %}

<!-- Mobile Quick Links (used in notbar.html) -->
{% macro mobile_quick_links() %}
<div class="d-flex align-items-center gap-1">
  <a href="{{ url_for('feed.feed_home') if 'feed.feed_home' in url_for.__globals__.get('current_app', {}).view_functions else '/' }}" class="btn btn-link text-white p-1" aria-label="Feed principal">
    <i class="bi bi-house{{ '-fill' if request.endpoint == 'feed.feed_home' else '' }}"></i>
  </a>
  <a href="{{ url_for('forum.list_questions') if 'forum.list_questions' in url_for.__globals__.get('current_app', {}).view_functions else '/foro' }}" class="btn btn-link text-white p-1" aria-label="Foro estudiantil">
    <i class="bi bi-people-fill"></i>
  </a>
  <a href="{{ url_for('chat.chat_index') }}" class="btn btn-link text-white p-1" aria-label="Chat">
    <i class="bi bi-chat-dots-fill"></i>
  </a>
  <a href="{{ url_for('notes.list_notes') if 'notes.list_notes' in url_for.__globals__.get('current_app', {}).view_functions else '/notes'}}" class="btn btn-link text-white p-1" aria-label="Mis apuntes">
    <i class="bi bi-journal-text"></i>
  </a>
  <div class="dropdown">
    <a class="btn btn-link text-white position-relative p-1" href="#" id="mobileNotificationsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Notificaciones">
      <i class="bi bi-bell-fill"></i>
      <span id="mobileNotificationBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger notification-badge" style="display:none"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end notification-menu" style="width: 280px; max-height: 400px; overflow-y: auto;">
      <li><h6 class="dropdown-header">Notificaciones</h6></li>
      <li id="mobile-notifications-list"><span class="dropdown-item-text text-muted">No hay notificaciones</span></li>
      <li><hr class="dropdown-divider"></li>
      <li><a class="dropdown-item text-center" href="{{ url_for('noti.ver_notificaciones') }}">Ver todas</a></li>
    </ul>
  </div>
  <a href="{{ url_for('store.store_index') if 'store.store_index' in url_for.__globals__.get('current_app', {}).view_functions else '/store' }}" class="btn btn-link text-white position-relative p-1" aria-label="Tienda">
    <i class="bi bi-shop"></i>
    <span id="mobileCartBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger tw-hidden">0</span>
  </a>
</div>
{% endmacro %}