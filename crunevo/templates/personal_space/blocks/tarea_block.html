
<div class="tarea-content">
    <div class="tarea-header">
        <div class="tarea-checkbox">
            <input type="checkbox" {% if block.get_metadata().get('completed') %}checked{% endif %} 
                   onchange="toggleTask({{ block.id }})">
        </div>
        <div class="tarea-info">
            <h6 class="{% if block.get_metadata().get('completed') %}completed{% endif %}">
                {{ block.title or 'Tarea sin t√≠tulo' }}
            </h6>
            {% set metadata = block.get_metadata() %}
            {% if metadata.get('category') %}
            <span class="category-tag">{{ metadata.get('category') }}</span>
            {% endif %}
        </div>
        {% if metadata.get('priority') %}
        <div class="priority-indicator priority-{{ metadata.get('priority') }}">
            <i class="bi bi-flag-fill"></i>
        </div>
        {% endif %}
    </div>
    
    {% if block.content %}
    <p class="tarea-description">{{ block.content[:80] }}{% if block.content|length > 80 %}...{% endif %}</p>
    {% endif %}
    
    {% if metadata.get('attachments') %}
    <div class="tarea-attachments">
        <i class="bi bi-paperclip"></i>
        <span>{{ metadata.get('attachments')|length }} archivo(s)</span>
    </div>
    {% endif %}
</div>
