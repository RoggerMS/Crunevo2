
<div class="objetivo-content">
    <div class="objetivo-progress">
        <div class="progress">
            <div class="progress-bar" style="width: {{ block.get_progress_percentage() }}%"></div>
        </div>
        <span class="progress-text">{{ block.get_progress_percentage() }}% progreso</span>
    </div>
    
    {% set metadata = block.get_metadata() %}
    {% if metadata.get('deadline') %}
    <div class="objetivo-deadline">
        <i class="bi bi-calendar"></i>
        <span>Meta: {{ metadata.get('deadline') }}</span>
    </div>
    {% endif %}
    
    {% if metadata.get('category') %}
    <div class="objetivo-category">
        <span class="category-tag category-{{ metadata.get('category') }}">
            {{ metadata.get('category')|title }}
        </span>
    </div>
    {% endif %}
    
    <p class="objetivo-description">
        {{ block.content[:100] }}{% if block.content|length > 100 %}...{% endif %}
    </p>
    
    {% if metadata.get('frequency') and metadata.get('frequency') != 'una_vez' %}
    <div class="objetivo-frequency">
        <i class="bi bi-arrow-repeat"></i>
        <small>{{ metadata.get('frequency')|replace('_', ' ')|title }}</small>
    </div>
    {% endif %}
</div>
