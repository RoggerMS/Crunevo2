<!-- Block Card Component simplified for Block model -->
{% set block_url = url_for('personal_space.view_bitacora', _anchor='block-' ~ block.id) if block.type == 'nota_enriquecida' else 'javascript:void(0);' %}
<a href="{{ block_url }}" class="block-card-link">
<div class="block-card {{ color }}-block" id="block-{{ block.id }}" data-block-id="{{ block.id }}" data-order="{{ block.order_index }}" data-block-type="{{ block.type }}">
    <div class="block-header">
        <div class="block-info">
            <div class="block-icon">
                <i class="{{ icon }}"></i>
            </div>
            <div class="block-meta">
                <h6 class="block-title">{{ block.title or 'Sin t√≠tulo' }}</h6>
                <span class="block-type-badge">{{ block.type|title }}</span>
            </div>
        </div>
        <div class="block-actions">
            <button class="btn-ghost" onclick="event.stopPropagation(); editBlock({{ block.id }})" aria-label="Editar bloque">
                <i class="bi bi-pencil"></i>
            </button>
            <button class="btn-ghost" onclick="event.stopPropagation(); deleteBlock({{ block.id }})" aria-label="Eliminar bloque">
                <i class="bi bi-trash"></i>
            </button>
        </div>
    </div>
    <div class="block-content">
        {% if block.type == 'nota' %}
            {% include 'personal_space/blocks/nota_block.html' %}
        {% elif block.type == 'nota_enriquecida' %}
            {% include 'personal_space/blocks/nota_enriquecida_block.html' %}
        {% elif block.type == 'kanban' %}
            {% include 'personal_space/blocks/kanban_block.html' %}
        {% elif block.type == 'objetivo' %}
            {% include 'personal_space/blocks/objetivo_block.html' %}
        {% endif %}
    </div>
</div>
</a>
